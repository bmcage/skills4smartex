<xml xmlns="http://www.w3.org/1999/xhtml"><block type="core_hub_component" id="1ltKCw/fZR!4,}9IG}|/" x="38" y="-562"><mutation dig="3" ana="1"></mutation><field name="BOARD">nodemcu</field><field name="PIND1">D4</field><field name="PIND2">D5</field><field name="PIND3">D7</field><field name="PINA1">A0</field><value name="DIG1"><block type="digitaloutput_config_hub" id="pHv*XuSG?cgZbSN#{2Y3"><field name="OUTPUTNAME">LED</field></block></value><value name="DIG2"><block type="digitaloutput_config_hub" id="BXI)%rVPaPYW!a)4l*P)"><field name="OUTPUTNAME">SENSOR_GND</field></block></value><value name="DIG3"><block type="digitaloutput_config_hub" id="RA**YW9IkQg@21PD3q20"><field name="OUTPUTNAME">SENSOR_3_3V</field></block></value><value name="ANA1"><block type="analogsensor_config_hub" id="ZS#H,}kzknz2|fvrxUy5"><field name="SENSORNAME">PressureSensor</field></block></value><next><block type="array_create_with_length" id="]wD!T-USPzD!Jzc99|]d"><field name="NUMBER_TYPE">float</field><field name="ARRAYNAME">volt</field><value name="LENGTH"><block type="math_number" id="B]I7NZ:sLwMoR-{moBsK"><field name="NUM">10</field></block></value><next><block type="array_create_with_length" id="[Hy,)Y)1KTvSuB2y9A`#"><field name="NUMBER_TYPE">float</field><field name="ARRAYNAME">voltaverage</field><value name="LENGTH"><block type="math_number" id="rf4`=Xqh:S|[jWz@u_w^"><field name="NUM">10</field></block></value></block></next></block></next></block><block type="serial_setup" id="=k2%|@2L1PpWntzlLtcu" x="38" y="-387"><field name="SERIAL_ID">Serial</field><field name="SPEED">57600</field></block><block type="arduino_functions" id="dKBknMXa*JG*h{.[Fd_E" x="38" y="-337"><statement name="SETUP_FUNC"><block type="digitaloutput_write" id="-pWYfrRjdz#~2`P^xl0W"><field name="OUTPUTNAME">LED</field><value name="STATE"><block type="io_highlow" id="1CC`0SI{/l]fi~[,rhH`"><field name="STATE">HIGH</field></block></value><next><block type="procedures_callnoreturn" id="Oq]]G/e.#|pR;k2%?=5*"><mutation name="setSettings"></mutation><next><block type="digitaloutput_write" id="yBG#31qK:HtlR:-!lLYv"><field name="OUTPUTNAME">LED</field><value name="STATE"><block type="io_highlow" id="|2n/C2kl0o#5NAr]bO#i"><field name="STATE">LOW</field></block></value><next><block type="serial_print" id="@sFj9GD^N~l5!3-J,-3z"><field name="SERIAL_ID">Serial</field><field name="NEW_LINE">TRUE</field><value name="CONTENT"><block type="text" id="FLxcc0P1}B_uwI!L|@DJ"><field name="TEXT">Setup Finished</field></block></value><next><block type="serial_print" id="[~,XS52*G[OH{t@KR.oc"><field name="SERIAL_ID">Serial</field><field name="NEW_LINE">TRUE</field><value name="CONTENT"><block type="text" id=",I/tu7iqg6YONeV;y^kQ"><field name="TEXT">Starting Calibration</field></block></value></block></next></block></next></block></next></block></next></block></statement><statement name="LOOP_FUNC"><block type="controls_if" id="dTqeny0f_yS,eI,x6Si^"><value name="IF0"><block type="variables_get" id="+IMt9]0~_Wles8QM=N6h"><field name="VAR">doMeasurement</field></block></value><statement name="DO0"><block type="variables_set" id="(UFL,c-A[f|@UgWqz@/2"><field name="VAR">readNumber</field><value name="VALUE"><block type="math_number" id="kCwm`8_O@,VsLA_AVs7)"><field name="NUM">0</field></block></value><next><block type="controls_repeat_ext" id="67ie.^szjgg3-p[g*fcF"><value name="TIMES"><block type="variables_get" id="{B-U+6V?|TK@QQu(kuru"><field name="VAR">nr_measurements</field></block></value><statement name="DO"><block type="procedures_callnoreturn" id="YlJpCJ6u@y(M@!yHS9L%"><mutation name="doOneReading"></mutation></block></statement><next><block type="procedures_callnoreturn" id="EGDHTO_/CxH{z2h)d?Iy"><mutation name="writeResult"></mutation><next><block type="ard_comment" id="[QXts|B)D(A6d-Fi2b7f"><value name="TEXT"><block type="text" id="WYI5khg_h#PQYl%Xy/l["><field name="TEXT">Finished, reset to measure again</field></block></value><next><block type="variables_set" id="wR:jhLd#^@epOvWunt?|"><field name="VAR">doMeasurement</field><value name="VALUE"><block type="logic_boolean" id="v=^5W!{V-ozq+kMfbx@*"><field name="BOOL">FALSE</field></block></value><next><block type="digitaloutput_write" id="(~VOP^~j@tGkRh}Vk+g~"><field name="OUTPUTNAME">LED</field><value name="STATE"><block type="io_highlow" id="W~icD}_:u]:rfJx+?cfV"><field name="STATE">HIGH</field></block></value></block></next></block></next></block></next></block></next></block></next></block></statement><next><block type="time_delay" id="b*0:I2#uRwk|2%.D)@/l"><value name="DELAY_TIME_MILI"><block type="math_number" id="(V.1?YG/Qs|8u3pkqV~t"><field name="NUM">1000</field></block></value></block></next></block></statement></block><block type="procedures_defnoreturn" id="BuJ/{P6`z|MX)-V#C|22" x="538" y="-312"><field name="NAME">setSettings</field><comment pinned="false" h="80" w="160">Describe this function...</comment><statement name="STACK"><block type="variables_set" id="2dQi.*T5H!}h1(U?_Gr?"><field name="VAR">nr_measurements</field><value name="VALUE"><block type="array_getLength" id="^v;2a8UWg/VK^B;3pm26"><field name="ARRAYNAME">voltaverage</field></block></value><next><block type="variables_set" id="bLRoL_[7pm%#h@n/Nr?f"><field name="VAR">nr_repeat_one_meas</field><value name="VALUE"><block type="array_getLength" id="{Bi2.G!hQBEO|C8_!~0("><field name="ARRAYNAME">volt</field></block></value><next><block type="variables_set" id="GR|8^DY9[7z~)7~U..^d"><field name="VAR">delay_between_measurements_ms</field><value name="VALUE"><block type="math_number" id="zEb)0XdB:.`~N[yVF,Ix"><field name="NUM">100</field></block></value><next><block type="ard_comment" id="i~56M548SCvaB*4^V7?j"><value name="TEXT"><block type="text" id="pOFCjax~]1iG--x]X8%H"><field name="TEXT">Vin of resistance reading</field></block></value><next><block type="variables_set" id="+Jvj3aPw1-L5|Ao)@b0/"><field name="VAR">Vin</field><value name="VALUE"><block type="math_number" id="nFtPQj9K@_h22c[l,fFL"><field name="NUM">3.3</field></block></value><next><block type="variables_set" id="3JS07D-A{Jp-L0j(Yq_?"><field name="VAR">Vin_mV_int</field><value name="VALUE"><block type="math_number" id="e033uB_-Sb]9WEy4.-=K"><field name="NUM">3300</field></block></value><next><block type="ard_comment" id="#)dk`b+0P}3.9.ZkXzd6"><value name="TEXT"><block type="text" id="C5RutjVb!dpSwrqITwn_"><field name="TEXT">fixed resistor used in kOhm</field></block></value><next><block type="ard_comment" id="G5{bUP{(Riq@Uh@`+-AC"><value name="TEXT"><block type="text" id="6~3)g8:o4AAQ4C5xZ~`|"><field name="TEXT">this resistor connects to GND</field></block></value><next><block type="digitaloutput_write" id="9_~NYtN]a(xrS[_kerM~"><field name="OUTPUTNAME">SENSOR_GND</field><value name="STATE"><block type="io_highlow" id="AhmiDf/Ay7^Gg0+Ges8h"><field name="STATE">LOW</field></block></value><next><block type="digitaloutput_write" id="!,fE]t2n{@rybWjTk|4u"><field name="OUTPUTNAME">SENSOR_3_3V</field><value name="STATE"><block type="io_highlow" id="Fb=^w0E-|b#xU[OH{^`B"><field name="STATE">HIGH</field></block></value><next><block type="variables_set" id="IB(yY*i^BZ-yF!5=e|R2"><field name="VAR">Rmeas</field><value name="VALUE"><block type="math_number" id="1Q+.U}%o3S:?8AD}q;wM"><field name="NUM">9.98</field></block></value><next><block type="variables_set" id="02%kjcrLGBfO1J1e(ksP"><field name="VAR">doMeasurement</field><value name="VALUE"><block type="logic_boolean" id="npf)qdYp)MM|+.kPbYdz"><field name="BOOL">TRUE</field></block></value><next><block type="time_delay" id="OPf}51Z[I@?Vdf!xoZ}a"><value name="DELAY_TIME_MILI"><block type="math_number" id=",:.yAPVcjMWag,G`6CPp"><field name="NUM">2000</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="procedures_defnoreturn" id="4L_-m/m:8j=An9I?dt;f" x="38" y="163"><field name="NAME">doOneReading</field><comment pinned="false" h="80" w="160">Deze functie beschrijven...</comment><statement name="STACK"><block type="ard_comment" id="7|ui8BXQl[)3nYGn:7B-"><value name="TEXT"><block type="text" id="O-J2X(:zbaN~tn2]e.*-"><field name="TEXT">We do given # meas in one go, then show in serial</field></block></value><next><block type="variables_set" id="@zfQ`0xDToXCZPk[#N;Y"><field name="VAR">average_volt</field><value name="VALUE"><block type="variables_set_type" id="Y*]94dViiv#7Th!K}N`V"><field name="VARIABLE_SETTYPE_TYPE">DECIMAL</field><value name="VARIABLE_SETTYPE_INPUT"><block type="math_number" id="ejBv?xRsg+d3[1-koe|)"><field name="NUM">0</field></block></value></block></value><next><block type="controls_for" id="dvmg6np8Iwd3tJQuT(T."><field name="VAR">i</field><value name="FROM"><block type="math_number" id="y~zbR139w@O][kodvAhS"><field name="NUM">0</field></block></value><value name="TO"><block type="math_arithmetic" id="@cu(A@Li2S0mzT={rP`K"><field name="OP">MINUS</field><value name="A"><block type="variables_get" id="yXtv#W{YVDvswq5K#9`;"><field name="VAR">nr_repeat_one_meas</field></block></value><value name="B"><block type="math_number" id="5PI?p,pie~80roJ?T9D@"><field name="NUM">1</field></block></value></block></value><value name="BY"><block type="math_number" id="-L2-lLoL9?o=IM+fwQgm"><field name="NUM">1</field></block></value><statement name="DO"><block type="variables_set" id=")-4Fmm36g^YL!KdBKc1A"><field name="VAR">resistorADC</field><value name="VALUE"><block type="analogsensor_read" id="(~-LVLt-I(/NsUMp,|!s"><field name="SENSORNAME">PressureSensor</field></block></value><next><block type="variables_set" id="N72cV8,3Kse.j+;k0O?:"><field name="VAR">computed_volt</field><value name="VALUE"><block type="math_arithmetic" id="Qv*i[@|zn0)kzrSmC#KV"><field name="OP">MULTIPLY</field><value name="A"><block type="math_arithmetic" id="(.e)nLJcAB3t**NBAjmD"><field name="OP">DIVIDE</field><value name="A"><block type="variables_get" id="L}ig!Bg7%:Rn(CBFzDX+"><field name="VAR">Vin</field></block></value><value name="B"><block type="math_number" id="/JK..27.fE#YKk_jPo2m"><field name="NUM">1023</field></block></value></block></value><value name="B"><block type="variables_get" id=",kW??r3OxW3N,xWsio[1"><field name="VAR">resistorADC</field></block></value></block></value><next><block type="math_change" id="t7=q8w=I`3N3/]sR~UnL"><field name="VAR">average_volt</field><value name="DELTA"><block type="variables_get" id="5)OtBga)m9q:#x;vM`,i"><field name="VAR">computed_volt</field></block></value><next><block type="array_setIndex" id="iS0e31ICgM|!3xAKs8f{"><field name="ARRAYNAME">volt</field><value name="AT"><block type="variables_get" id="n[siBN|n0AMc:mKMG;Q;"><field name="VAR">i</field></block></value><value name="VALUE"><block type="variables_get" id="vAOHKdPSte[k/6x0t{Rh"><field name="VAR">computed_volt</field></block></value><next><block type="time_delay" id="+NP]R:m2|4M4/[2I@Xbi"><value name="DELAY_TIME_MILI"><block type="variables_get" id="4_j;/G620)Pc!pLw7HLK"><field name="VAR">delay_between_measurements_ms</field></block></value></block></next></block></next></block></next></block></next></block></statement><next><block type="array_setIndex" id="j.3Mt.Dy~Kid,3:I[kCH"><field name="ARRAYNAME">voltaverage</field><value name="AT"><block type="variables_get" id="6ueFefeZyA36``5eFDp!"><field name="VAR">readNumber</field></block></value><value name="VALUE"><block type="math_arithmetic" id="sd5o?HuG=qw11%w`q]RK"><field name="OP">DIVIDE</field><value name="A"><block type="variables_get" id="l^S@C5#1T[auqBhKDYv/"><field name="VAR">average_volt</field></block></value><value name="B"><block type="variables_get" id="-;URLcy_mT6v~TrZo-rX"><field name="VAR">nr_repeat_one_meas</field></block></value></block></value><next><block type="variables_set" id="QNd3XxPm}0_lo[;akRO*"><field name="VAR">readNumber</field><value name="VALUE"><block type="math_arithmetic" id="GPs*2mwhVuLPM18:Bs_/"><field name="OP">ADD</field><value name="A"><block type="variables_get" id=";D5rm?.}n.%Ul;ln!Z^d"><field name="VAR">readNumber</field></block></value><value name="B"><block type="math_number" id="ZL@x)Cf,*qND|t[FF7=M"><field name="NUM">1</field></block></value></block></value></block></next></block></next></block></next></block></next></block></statement></block><block type="procedures_defnoreturn" id=".abR,!/XFUbN_x,F-N,#" x="38" y="613"><field name="NAME">writeResult</field><comment pinned="false" h="80" w="160">Describe this function...</comment><statement name="STACK"><block type="ard_comment" id="tS/?^MpcDhHxL?L/Ya9B"><value name="TEXT"><block type="text" id="+_Y],*vFEA|pToSoVF8("><field name="TEXT">Measurement finished, write out a cvs for use in Spreadsheet</field></block></value><next><block type="serial_print" id="4nXDABWA##shkmREL(yv"><field name="SERIAL_ID">Serial</field><field name="NEW_LINE">FALSE</field><value name="CONTENT"><block type="text" id="C5igAQT}P@Nv6_x*`vwO"><field name="TEXT">Meas_nr;</field></block></value><next><block type="serial_print" id="pnG#:=v`-Pm^xXH9UirG"><field name="SERIAL_ID">Serial</field><field name="NEW_LINE">TRUE</field><value name="CONTENT"><block type="text" id="^AxVvj|?MGlZGe+cEH!,"><field name="TEXT">Volt</field></block></value><next><block type="variables_set" id="mA5vOd^v:]4h}236io@?"><field name="VAR">average_volt</field><value name="VALUE"><block type="variables_set_type" id="]G{;PGUVd@O?[Z;LgYbU"><field name="VARIABLE_SETTYPE_TYPE">DECIMAL</field><value name="VARIABLE_SETTYPE_INPUT"><block type="math_number" id="bjN/2m*[?Q]~_Krj@f|-"><field name="NUM">0</field></block></value></block></value><next><block type="controls_for" id="gJ%-GKVD[mAW+{E~;zWD"><field name="VAR">i</field><value name="FROM"><block type="math_number" id="zL|RETV1.+2=8:Bd^6hN"><field name="NUM">0</field></block></value><value name="TO"><block type="math_arithmetic" id="5i`3w:WtY?-90t+]#9CD"><field name="OP">MINUS</field><value name="A"><block type="variables_get" id="VpeLAfPTpEaE)qSxf11P"><field name="VAR">nr_measurements</field></block></value><value name="B"><block type="math_number" id="L@[B*/qowd-:sSg=f.Zr"><field name="NUM">1</field></block></value></block></value><value name="BY"><block type="math_number" id="R|qzjxnXUkt,.c=-:|9-"><field name="NUM">1</field></block></value><statement name="DO"><block type="serial_print" id="4((SK;}kYnz?_8Yn@w93"><field name="SERIAL_ID">Serial</field><field name="NEW_LINE">FALSE</field><value name="CONTENT"><block type="math_arithmetic" id="2Dx9=}ln4ZN0_r_L-vV*"><field name="OP">ADD</field><value name="A"><block type="variables_get" id="vJ1_Ar^Y_x:WLo%;3Q3f"><field name="VAR">i</field></block></value><value name="B"><block type="math_number" id="+=`B-h.b^dOc*-ku,Ni|"><field name="NUM">1</field></block></value></block></value><next><block type="serial_print" id="/X7aMgYL,|X0c#r%;DLb"><field name="SERIAL_ID">Serial</field><field name="NEW_LINE">FALSE</field><value name="CONTENT"><block type="text" id="Qb,?1j`e8mp-YtuSuocI"><field name="TEXT">; </field></block></value><next><block type="serial_print" id="t5MsIB|bup1]J1J^#ESt"><field name="SERIAL_ID">Serial</field><field name="NEW_LINE">FALSE</field><value name="CONTENT"><block type="array_getIndex" id="J(DHfy%)dD{Nc-+e[%US"><field name="ARRAYNAME">voltaverage</field><value name="AT"><block type="variables_get" id="/{3D3emcji)X9*4]K-R%"><field name="VAR">i</field></block></value></block></value><next><block type="math_change" id="wc@W|J!|yHs)CnbntBfr"><field name="VAR">average_volt</field><value name="DELTA"><block type="array_getIndex" id="?.Z3f*(kN6JE^*ENKI!!"><field name="ARRAYNAME">voltaverage</field><value name="AT"><block type="variables_get" id="|T/bY1GA?}oXl/?dhN~i"><field name="VAR">i</field></block></value></block></value><next><block type="serial_print" id="4e!v~:D|P!b5ykU!r,uq"><field name="SERIAL_ID">Serial</field><field name="NEW_LINE">TRUE</field><value name="CONTENT"><block type="text" id="HFC?O-U/sWDc=#0ui}x}"><field name="TEXT">; </field></block></value></block></next></block></next></block></next></block></next></block></statement><next><block type="serial_print" id="lT!SfU9_Hk~o)j}{)zYq"><field name="SERIAL_ID">Serial</field><field name="NEW_LINE">FALSE</field><value name="CONTENT"><block type="text" id="gDIphDgcPks.AM:JO/-U"><field name="TEXT">Avg ; </field></block></value><next><block type="serial_print" id="gKZI5_Y#+V`C:jG72XZ:"><field name="SERIAL_ID">Serial</field><field name="NEW_LINE">FALSE</field><value name="CONTENT"><block type="math_arithmetic" id="a@#yvmhRo`#oX8B%4}mq"><field name="OP">DIVIDE</field><value name="A"><block type="variables_get" id="[dOz(J@KXJv}vo]2BInG"><field name="VAR">average_volt</field></block></value><value name="B"><block type="variables_get" id="=I.;?]IrOW,QmTm*8Xnk"><field name="VAR">nr_measurements</field></block></value></block></value><next><block type="serial_print" id="/|UepBgetiSaPNP?U~)q"><field name="SERIAL_ID">Serial</field><field name="NEW_LINE">TRUE</field><value name="CONTENT"><block type="text" id="fNv#W3!z/B6n9Eck8^0."><field name="TEXT">; </field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block></xml>